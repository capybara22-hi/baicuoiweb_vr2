<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tuyển Sinh</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- <link rel="stylesheet" href="style.css"> -->
  <style>
    .post {
        display: flex;
        align-items: center;
        border: 1px solid #ccc;
        margin: 10px 0;
        padding: 10px;
    }

    .post img {
        max-width: 150px;
        margin-right: 20px;
    }

    .post .content {
        flex-grow: 1;
    }

    .post .content h3 {
        margin: 0;
    }

    .post .content .date {
        font-size: 0.9em;
        color: gray;
    }

    .post .content p {
        margin: 5px 0;
    }

    .admin-buttons {
        text-align: right;
        margin-top: 10px;
    }

    #imageSelection {
      margin-top: 10px;
      border: 1px solid #ccc;
      padding: 10px;
      background-color: #f9f9f9;
      width: 800px;
    }

    #toggleImageSelection {
      margin-bottom: 10px;
      cursor: pointer;
    }

    .image-options {
      display: flex;
      gap: 10px; /* Khoảng cách giữa các phần tử */
    }

    .selectable-image {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border: 2px solid transparent;
      cursor: pointer;
      transition: border-color 0.3s;
    }

    .selectable-image.selected {
      border-color: blue;
    }

  </style>
</head>
<body>
  <h1>Trang Tuyển Sinh</h1>
  <div id="adminSection" style="display: none;">
    <h2>Đăng Tin Tuyển Sinh</h2>
    <form id="postForm">
      <div id="imageSelectionWrapper">
        <button type="button" id="toggleImageSelection">Chọn Ảnh</button>
        <div id="imageSelection" style="display: none;">
          <p>Chọn ảnh:</p>
          <div class="image-options">
            <img src="./assets/img/img_tintuc/thongbao.jpg" alt="Ảnh 1" class="selectable-image">
            <img src="./assets/img/img_tintuc/kithi.jpg" alt="Ảnh 2" class="selectable-image">
            <img src="./assets/img/img_tintuc/thongbaonhaphoc.png" alt="Ảnh 3" class="selectable-image">
          </div>
        </div>
      </div>
      <input type="text" id="postTitle" placeholder="Tiêu đề bài đăng" required>
      <textarea id="postDescription" placeholder="Mô tả bài đăng" required></textarea>
      <button type="submit">Đăng bài</button>
    </form>
  </div>
  
  

  <h2>Danh Sách Bài Đăng</h2>
  <div id="postList"></div>

  <!-- <script>
    document.addEventListener("DOMContentLoaded", () => {
    const isAdmin = true; // Đặt thành `false` nếu là user
    const adminSection = document.getElementById("adminSection");
    const postForm = document.getElementById("postForm");
    const postList = document.getElementById("postList");

    // Hiển thị giao diện admin nếu là admin
    if (isAdmin) adminSection.style.display = "block";

    // Lấy danh sách bài đăng từ localStorage
    const getPosts = () => JSON.parse(localStorage.getItem("posts") || "[]");

    // Lưu danh sách bài đăng vào localStorage
    const savePosts = (posts) => localStorage.setItem("posts", JSON.stringify(posts));

    // Render danh sách bài đăng
    const renderPosts = () => {
        const posts = getPosts();
        postList.innerHTML = "";

        posts.forEach((post, index) => {
        const postDiv = document.createElement("div");
        postDiv.className = "post";

        postDiv.innerHTML = `
            <img src="${post.image}" alt="Bài đăng">
            <div class="content">
            <h3>${post.title}</h3>
            <div class="date">${post.date}</div>
            <p>${post.description}</p>
            </div>
            ${isAdmin ? `<button class="deleteButton" data-index="${index}">Xóa</button>` : ""}
        `;

        postList.appendChild(postDiv);
        });

        // Xóa bài đăng (admin)
        if (isAdmin) {
        document.querySelectorAll(".deleteButton").forEach((button) => {
            button.addEventListener("click", (e) => {
            const index = e.target.getAttribute("data-index");
            const posts = getPosts();
            posts.splice(index, 1); // Xóa bài đăng
            savePosts(posts);
            renderPosts();
            });
        });
        }
    };

    // Xử lý sự kiện đăng bài
    postForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const file = document.getElementById("postImage").files[0];
        const title = document.getElementById("postTitle").value;
        const description = document.getElementById("postDescription").value;

        if (file && title && description) {
        const reader = new FileReader();
        reader.onload = (event) => {
            const image = event.target.result;
            const date = new Date().toLocaleString();

            const newPost = { image, title, date, description };
            const posts = getPosts();
            posts.push(newPost);
            savePosts(posts);
            renderPosts();

            postForm.reset(); // Reset form sau khi đăng bài
        };
        reader.readAsDataURL(file); // Đọc file ảnh
        }
    });

    // Render lần đầu
    renderPosts();
    });

  </script> -->
  <script src="./assets/javascript/test.js">
    
  </script>
</body>
</html>
